<%

# inputs:
#
#   task (c1task or c2task)

%>

<%= form_for(TestExecution.new, :html => {method: :post, :multipart => true}) do |f| %>
  <%= hidden_field_tag :task_id, task.id %>
  <div class="fileinput fileinput-new input-group" data-provides="fileinput">
    <div class="form-control" data-trigger="fileinput"><i class="fa fa-fw fa-file fileinput-exists"></i> <span class="fileinput-filename"></span></div>
    <span class="input-group-btn">
      <span class="btn-file">
        <span class="fileinput-new"><button class="btn btn-info" type="button"><i class="fa fa-fw fa-mouse-pointer"></i> Select file</button></span>
        <span class="fileinput-exists"><button class="btn btn-warning" type="button"><i class="fa fa-fw fa-refresh"></i> Change</button></span>
        <label class = "hidden" for = "results"></label>
        <%= file_field_tag :results, class: 'upload-results' %>
      </span>
      <span class="fileinput-exists"><button class="btn btn-info" type="submit"><i class="fa fa-fw fa-upload"></i> Upload and run test</button></span>
    </span>
  </div>
<% end %>